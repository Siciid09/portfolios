<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mubarik Osman | Admin Command Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: { 
                     colors: { 
                         brand: { 
                             dark: '#0f172a', 
                             accent: '#4f46e5',
                             accentHover: '#4338ca',
                            light: '#f8fafc'
                        } 
                     },
                    fontFamily: { sans: ['Outfit', 'sans-serif'] }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        .input-std { 
             width: 100%; 
             padding: 0.75rem 1rem; 
             border-radius: 0.5rem; 
             border: 1px solid #e2e8f0; 
             background-color: #fff; 
             font-size: 0.875rem; 
             outline: none; 
             transition: all 0.2s; 
         }
        .input-std:focus { 
             border-color: #4f46e5; 
             box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); 
         }
        
        .btn-primary { 
             background-color: #4f46e5; 
             color: white; 
             padding: 0.75rem 1.5rem; 
             border-radius: 0.5rem; 
             font-weight: 600; 
             transition: all 0.2s; 
             display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            cursor: pointer;
        }
        .btn-primary:hover { background-color: #4338ca; transform: translateY(-1px); box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.3); }
        
        .nav-btn { transition: all 0.2s; }
        .nav-btn.active { background-color: rgba(255,255,255,0.1); color: white; border-right: 3px solid #4f46e5; }
        
        .glass-card {
            background: white;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border-radius: 1rem;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased h-screen overflow-hidden">

    <div id="login-container" class="fixed inset-0 z-50 bg-slate-900 flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-md p-8 rounded-2xl shadow-2xl text-center">
            <div class="w-16 h-16 bg-brand-accent rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-6 shadow-lg shadow-indigo-500/30">
                <i class="fa-solid fa-user-shield"></i>
            </div>
            <h2 class="text-2xl font-bold text-slate-800 mb-2">Admin Access</h2>
            <p class="text-slate-500 mb-6 text-sm">Please identify yourself to access the Command Center.</p>
            
            <form onsubmit="handleLogin(event)" class="space-y-4 text-left">
                <div>
                    <label class="text-xs font-bold text-slate-500 uppercase ml-1">Email</label>
                    <input type="email" name="email" class="input-std mt-1" placeholder="name@company.com" required>
                </div>
                <div>
                    <label class="text-xs font-bold text-slate-500 uppercase ml-1">Password</label>
                    <input type="password" name="password" class="input-std mt-1" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>
                <div id="login-error" class="text-red-500 text-xs text-center hidden"></div>
                <button type="submit" class="btn-primary w-full py-3">Secure Login</button>
            </form>
        </div>
    </div>

    <div id="dashboard-container" class="hidden flex h-full">
        <aside class="w-72 bg-brand-dark text-slate-400 flex flex-col shadow-2xl z-20 flex-shrink-0">
            <div class="h-20 flex items-center px-6 border-b border-white/10 bg-black/20 justify-between">
                <h2 class="text-xl font-bold tracking-tighter text-white">MUBARIK<span class="text-brand-accent">.ADMIN</span></h2>
            </div>

            <nav class="flex-1 overflow-y-auto py-6 px-3 space-y-1">
                <button onclick="switchTab('overview')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-white/5 hover:text-white flex items-center gap-3 active">
                    <i class="fa-solid fa-gauge-high w-6 text-center"></i> Overview
                </button>

                <p class="px-4 text-xs font-bold text-slate-600 uppercase tracking-wider mt-6 mb-2">Inbox & Data</p>

                <button onclick="switchTab('bookings')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-white/5 hover:text-white flex items-center gap-3">
                    <i class="fa-solid fa-calendar-check w-6 text-center"></i> Bookings
                </button>
                
                <button onclick="switchTab('inbox')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-white/5 hover:text-white flex items-center gap-3">
                    <i class="fa-solid fa-inbox w-6 text-center"></i> Messages
                </button>

                <p class="px-4 text-xs font-bold text-slate-600 uppercase tracking-wider mt-6 mb-2">Content Management</p>
                
                <button onclick="switchTab('projects')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-white/5 hover:text-white flex items-center gap-3">
                    <i class="fa-solid fa-briefcase w-6 text-center"></i> Projects
                </button>
                <button onclick="switchTab('certificates')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-white/5 hover:text-white flex items-center gap-3">
                    <i class="fa-solid fa-certificate w-6 text-center"></i> Certificates
                </button>
                <button onclick="switchTab('stats')" class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-white/5 hover:text-white flex items-center gap-3">
                    <i class="fa-solid fa-arrow-trend-up w-6 text-center"></i> Site Counters
                </button>
            </nav>
            
            <div class="p-4 border-t border-white/10 bg-black/20 space-y-2">
                <button onclick="handleLogout()" class="w-full text-red-400 hover:text-red-300 hover:bg-red-500/10 p-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm font-bold">
                    Sign Out <i class="fa-solid fa-right-from-bracket"></i>
                </button>
            </div>
        </aside>

        <main class="flex-1 overflow-y-auto relative bg-slate-100">
            <header class="sticky top-0 bg-white/80 backdrop-blur-md border-b border-slate-200 z-10 px-8 py-4 flex justify-between items-center shadow-sm">
                <div>
                    <h1 id="page-title" class="text-2xl font-bold text-slate-800">Overview</h1>
                    <p class="text-xs text-slate-500">Manage your digital empire.</p>
                </div>
                <div class="flex items-center gap-4">
                    <span id="current-date" class="text-sm font-mono text-slate-500 bg-slate-100 px-3 py-1 rounded"></span>
                </div>
            </header>

            <div class="p-8 max-w-[1600px] mx-auto min-h-[calc(100vh-80px)]">

                <div id="tab-overview" class="tab-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="glass-card p-6 flex items-center gap-4 border-l-4 border-teal-500">
                            <div class="w-12 h-12 rounded-full bg-teal-50 text-teal-600 flex items-center justify-center text-xl"><i class="fa-solid fa-calendar-check"></i></div>
                            <div>
                                <p class="text-xs font-bold text-slate-400 uppercase">Bookings</p>
                                <h3 class="text-2xl font-black text-slate-800" id="stat-bookings">-</h3>
                            </div>
                        </div>
                        <div class="glass-card p-6 flex items-center gap-4 border-l-4 border-brand-accent">
                            <div class="w-12 h-12 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center text-xl"><i class="fa-solid fa-envelope"></i></div>
                            <div>
                                <p class="text-xs font-bold text-slate-400 uppercase">Total Messages</p>
                                <h3 class="text-2xl font-black text-slate-800" id="stat-msgs">-</h3>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="tab-bookings" class="tab-content hidden">
                    <div class="glass-card p-0 overflow-hidden">
                        <div class="p-4 border-b bg-slate-50 flex justify-between items-center">
                            <h3 class="font-bold text-brand-accent">ðŸ“… Client Booking Requests</h3>
                            <button onclick="loadCollectionData('bookings')" class="text-sm text-brand-accent hover:underline">Refresh List</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-slate-100 text-slate-500 font-bold uppercase text-xs">
                                    <tr>
                                        <th class="p-4">Date & Time</th>
                                        <th class="p-4">Client Name</th>
                                        <th class="p-4">Contact Info</th>
                                        <th class="p-4">Project Context</th>
                                        <th class="p-4 text-right">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="list-bookings" class="divide-y divide-slate-100">
                                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div id="tab-inbox" class="tab-content hidden">
                    <div class="glass-card p-0 overflow-hidden">
                        <div class="p-4 border-b bg-slate-50 flex justify-between items-center">
                            <h3 class="font-bold">Messages</h3>
                            <button onclick="loadCollectionData('messages')" class="text-sm text-brand-accent hover:underline">Refresh</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-slate-100 text-slate-500 font-bold uppercase text-xs">
                                    <tr>
                                        <th class="p-4">Date</th>
                                        <th class="p-4">Name</th>
                                        <th class="p-4">Contact</th>
                                        <th class="p-4">Message</th>
                                        <th class="p-4 text-right">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="list-messages" class="divide-y divide-slate-100"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div id="tab-projects" class="tab-content hidden">
                    <div class="glass-card p-6 mb-8">
                        <h3 class="font-bold text-lg mb-4">Add New Project</h3>
                        <form onsubmit="handleCreate(event, 'projects')" class="grid grid-cols-1 md:grid-cols-12 gap-4">
                            <div class="md:col-span-6">
                                <input type="text" name="title" placeholder="Project Title" class="input-std" required>
                            </div>
                            <div class="md:col-span-3">
                                <input type="text" name="type" placeholder="Type (e.g. SaaS)" class="input-std" required>
                            </div>
                            <div class="md:col-span-3">
                                <input type="text" name="projectLink" placeholder="External URL (https://...)" class="input-std">
                            </div>
                            <div class="md:col-span-6 bg-slate-50 p-3 rounded border">
                                <label class="text-xs font-bold text-slate-500 uppercase">Or Image URL</label>
                                <input type="text" name="imgUrl" placeholder="https://..." class="input-std mt-1">
                            </div>
                            <div class="md:col-span-12">
                                <input type="text" name="desc" placeholder="Short Description" class="input-std" required>
                            </div>
                            <div class="md:col-span-12">
                                <button type="submit" class="btn-primary w-full">Publish Project</button>
                            </div>
                        </form>
                    </div>
                    <div id="list-projects" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"></div>
                </div>

                <div id="tab-stats" class="tab-content hidden">
                    <div class="glass-card p-6 mb-8 max-w-4xl">
                        <h3 class="font-bold text-lg mb-4">Manage Site Counters</h3>
                        <form onsubmit="handleCreate(event, 'stats')" class="grid grid-cols-1 md:grid-cols-5 gap-4 bg-slate-100 p-4 rounded-lg mb-8">
                            <input type="number" name="count" placeholder="Number (e.g. 100)" class="input-std" required>
                            <input type="text" name="label" placeholder="Label (e.g. Clients)" class="input-std" required>
                            <input type="text" name="suffix" placeholder="Suffix (e.g. + or %)" class="input-std">
                            <input type="text" name="color" placeholder="Color Class (text-brand-accent)" class="input-std">
                            <button type="submit" class="btn-primary">Add Counter</button>
                        </form>
                        <div id="list-stats" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"></div>
                    </div>
                </div>

                <div id="tab-certificates" class="tab-content hidden">
                    <div class="glass-card p-6 mb-8">
                        <h3 class="font-bold text-lg mb-4">Add Certificate</h3>
                        <form onsubmit="handleCreate(event, 'certificates')" class="grid grid-cols-1 md:grid-cols-12 gap-4">
                            <div class="md:col-span-6"><input type="text" name="title" placeholder="Certificate Name" class="input-std" required></div>
                            <div class="md:col-span-6"><input type="text" name="credentialUrl" placeholder="Credential URL" class="input-std"></div>
                            <div class="md:col-span-6"><input type="text" name="imgUrl" placeholder="Image URL" class="input-std"></div>
                            <div class="md:col-span-6"><input type="text" name="desc" placeholder="Description / Issuer" class="input-std" required></div>
                            <div class="md:col-span-12"><button type="submit" class="btn-primary w-full">Add Certificate</button></div>
                        </form>
                    </div>
                    <div id="list-certificates" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"></div>
                </div>

            </div>
        </main>
    </div>

    <div id="viewModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/60 backdrop-blur-sm opacity-0 transition-opacity duration-300">
        <div class="bg-white w-full max-w-2xl rounded-2xl p-8 shadow-2xl transform scale-95 transition-transform duration-300 max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-start mb-6 border-b pb-4">
                <div>
                    <h3 class="text-2xl font-bold text-slate-800" id="view-title">Details</h3>
                    <p class="text-sm text-slate-500" id="view-date"></p>
                </div>
                <button onclick="closeViewModal()" class="w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 flex items-center justify-center"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="overflow-y-auto flex-1 space-y-4" id="view-content"></div>
            <div class="mt-6 pt-4 border-t border-slate-100 flex justify-end">
                <button onclick="closeViewModal()" class="btn-primary">Close</button>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc, updateDoc, query, orderBy, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // YOUR FIREBASE CONFIG
        const firebaseConfig = {
            apiKey: "AIzaSyC7dQr5Ub5LP-UUq30N6Sn7X1JB_AZFLcQ",
            authDomain: "portfalio1.firebaseapp.com",
            projectId: "portfalio1",
            storageBucket: "portfalio1.firebasestorage.app",
            messagingSenderId: "806539469974",
            appId: "1:806539469974:web:368f1711bdd2d09a5f8eb7",
            measurementId: "G-CGFDMTH1N8"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // --- AUTH ---
        const allowedEmail = "info@hiigsitech.com"; // YOUR ADMIN EMAIL
        
        onAuthStateChanged(auth, (user) => {
            const loginContainer = document.getElementById('login-container');
            const dashboardContainer = document.getElementById('dashboard-container');
            if (user) {
                if (user.email === allowedEmail) {
                    loginContainer.classList.add('hidden');
                    dashboardContainer.classList.remove('hidden');
                    switchTab('overview'); // Start at Overview
                } else {
                    signOut(auth);
                    alert("Not Authorized.");
                }
            } else {
                loginContainer.classList.remove('hidden');
                dashboardContainer.classList.add('hidden');
            }
        });

        window.handleLogin = async (e) => {
            e.preventDefault();
            const email = e.target.email.value;
            const password = e.target.password.value;
            const errorDiv = document.getElementById('login-error');
            
            if(email !== allowedEmail) {
                errorDiv.innerText = "Access Denied."; errorDiv.classList.remove('hidden'); return;
            }
            try {
                await signInWithEmailAndPassword(auth, email, password);
            } catch (error) {
                errorDiv.innerText = "Wrong Password."; errorDiv.classList.remove('hidden');
            }
        };

        window.handleLogout = () => { if(confirm("Sign out?")) signOut(auth); };

        // --- TAB NAVIGATION ---
        window.switchTab = async (tabName) => {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            
            const target = document.getElementById(`tab-${tabName}`);
            if(target) target.classList.remove('hidden');
            
            // Highlight Button
            document.querySelectorAll('.nav-btn').forEach(b => {
                if(b.innerText.toLowerCase().includes(tabName)) b.classList.add('active');
            });

            document.getElementById('page-title').innerText = tabName.charAt(0).toUpperCase() + tabName.slice(1);

            if (tabName === 'overview') loadOverview();
            else if (tabName === 'bookings') loadCollectionData('bookings'); // Load Bookings
            else if (tabName === 'inbox') loadCollectionData('messages');
            else loadCollectionData(tabName);
        }

        // --- LOAD DATA ---
        async function loadOverview() {
            try {
                const msgs = await getDocs(collection(db, "messages"));
                const books = await getDocs(collection(db, "bookings"));
                
                document.getElementById('stat-msgs').innerText = msgs.size;
                document.getElementById('stat-bookings').innerText = books.size;
            } catch (e) { console.log(e); }
        }

        async function loadCollectionData(colName) {
            const container = document.getElementById(`list-${colName}`);
            container.innerHTML = '<tr><td colspan="5" class="p-4 text-center"><i class="fa-solid fa-spinner fa-spin"></i> Loading...</td></tr>';
            
            try {
                let q = query(collection(db, colName), orderBy('timestamp', 'desc')); // Order by newest
                const snapshot = await getDocs(q);
                
                container.innerHTML = '';
                if (snapshot.empty) {
                    container.innerHTML = `<tr><td colspan="5" class="p-4 text-center text-slate-400">No data found.</td></tr>`;
                    return;
                }

                snapshot.forEach((doc) => {
                    const html = generateCardHTML(colName, doc.data(), doc.id);
                    container.insertAdjacentHTML('beforeend', html);
                });
            } catch(e) { console.log(e); }
        }

        function generateCardHTML(type, data, id) {
            const dataStr = JSON.stringify(data).replace(/'/g, "&#39;").replace(/"/g, "&quot;");
            
            // --- RENDER BOOKINGS ---
            if(type === 'bookings') {
                return `
                <tr class="border-b hover:bg-slate-50">
                    <td class="p-4">
                        <div class="font-bold text-brand-accent">${data.bookingDate || 'No Date'}</div>
                        <div class="text-xs text-slate-500">${data.bookingTime || 'No Time'}</div>
                    </td>
                    <td class="p-4 font-bold">${data.name}</td>
                    <td class="p-4 text-xs">
                        <div>${data.email}</div>
                        <div>${data.phone || data.fullPhone || ''}</div>
                    </td>
                    <td class="p-4 text-sm text-slate-600 max-w-xs truncate">${data.message || 'No details'}</td>
                    <td class="p-4 text-right flex items-center justify-end gap-2">
                        <button onclick='viewItem("bookings", ${dataStr})' class="text-brand-accent p-2 hover:bg-indigo-50 rounded"><i class="fa-solid fa-eye"></i></button>
                        <button onclick="deleteItem('${type}', '${id}')" class="text-red-500 p-2 hover:bg-red-50 rounded"><i class="fa-solid fa-trash"></i></button>
                    </td>
                </tr>`;
            }

            // --- RENDER MESSAGES ---
            if(type === 'messages') {
                const date = data.timestamp ? new Date(data.timestamp.seconds * 1000).toLocaleDateString() : '-';
                return `
                <tr class="border-b hover:bg-slate-50">
                    <td class="p-4 text-xs text-slate-500">${date}</td>
                    <td class="p-4 font-bold">${data.name}</td>
                    <td class="p-4 text-xs">
                        <div>${data.email}</div>
                        <div>${data.phone || ''}</div>
                    </td>
                    <td class="p-4 text-sm text-slate-600 max-w-xs truncate">${data.message}</td>
                    <td class="p-4 text-right flex items-center justify-end gap-2">
                        <button onclick='viewItem("messages", ${dataStr})' class="text-brand-accent p-2 hover:bg-indigo-50 rounded"><i class="fa-solid fa-eye"></i></button>
                        <button onclick="deleteItem('${type}', '${id}')" class="text-red-500 p-2 hover:bg-red-50 rounded"><i class="fa-solid fa-trash"></i></button>
                    </td>
                </tr>`;
            }
            
            // --- RENDER PROJECTS ---
            if(type === 'projects') {
                return `
                <div class="bg-white rounded-xl shadow border border-slate-200 overflow-hidden group">
                    <div class="h-48 overflow-hidden relative">
                        <img src="${data.img || data.imgUrl || 'https://via.placeholder.com/400'}" class="w-full h-full object-cover">
                        <button onclick="deleteItem('${type}', '${id}')" class="absolute top-2 right-2 bg-white text-red-500 p-2 rounded shadow"><i class="fa-solid fa-trash"></i></button>
                    </div>
                    <div class="p-4">
                        <h4 class="font-bold">${data.title}</h4>
                        <p class="text-xs text-slate-500 mt-1">${data.desc}</p>
                    </div>
                </div>`;
            }
            
            // --- RENDER STATS/CERTS ---
            return `
            <div class="bg-white p-4 rounded-xl border border-slate-200 relative">
                <button onclick="deleteItem('${type}', '${id}')" class="absolute top-2 right-2 text-red-500"><i class="fa-solid fa-trash"></i></button>
                <h4 class="font-bold">${data.title || data.label || data.name}</h4>
                <p class="text-xs text-slate-500">${data.desc || data.count || ''}</p>
            </div>`;
        }

        // --- DELETE ---
        window.deleteItem = async (col, id) => {
            if(confirm("Delete this item?")) {
                await deleteDoc(doc(db, col, id));
                loadCollectionData(col);
            }
        }

        // --- CREATE ---
        window.handleCreate = async (e, col) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            await addDoc(collection(db, col), data);
            e.target.reset();
            loadCollectionData(col);
        }

        // --- VIEW DETAILS ---
        window.viewItem = (type, data) => {
            const modal = document.getElementById('viewModal');
            document.getElementById('view-title').innerText = type === 'bookings' ? 'Booking Request' : 'Message';
            
            document.getElementById('view-content').innerHTML = `
                <div class="grid grid-cols-2 gap-4 bg-slate-50 p-4 rounded mb-4">
                    <div><span class="text-xs font-bold text-slate-400 block">NAME</span> ${data.name}</div>
                    <div><span class="text-xs font-bold text-slate-400 block">EMAIL</span> ${data.email}</div>
                    <div><span class="text-xs font-bold text-slate-400 block">PHONE</span> ${data.phone || data.fullPhone}</div>
                    <div><span class="text-xs font-bold text-slate-400 block">DATE</span> ${data.bookingDate || '-'}</div>
                </div>
                <div><span class="text-xs font-bold text-slate-400 block mb-2">FULL MESSAGE</span>
                <p class="bg-white border p-4 rounded text-slate-700">${data.message}</p></div>
            `;
            
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.remove('opacity-0'), 10);
        }

        window.closeViewModal = () => {
            const modal = document.getElementById('viewModal');
            modal.classList.add('opacity-0');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }
    </script>
</body>
</html>
